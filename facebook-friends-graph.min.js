var FacebookFriends=function(){function i(i,e){var t={config:{edgeLimit:100,edgeFields:"likes,comments",points:{comment:10,like:5}},graph:{},buildGraph:function(i){var e=this;this.fetchEdges("/me/posts?fields="+this.config.edgeFields+"&limit="+this.config.edgeLimit,function(t){e.fetchEdges("/me/photos?type=uploaded&fields="+e.config.edgeFields+"&limit="+e.config.edgeLimit,i)})},fetchEdges:function(e,t){var n=this;i.api(e,function(i){n.handleEdgeResponse(i),t(n.getSortedGraph())})},handleEdgeResponse:function(i){if(void 0!==i.data){var e=this;$.each(i.data,function(){e.filterEdgeItemUserInteractions(this,"likes"),e.filterEdgeItemUserInteractions(this,"comments")})}},filterEdgeItemUserInteractions:function(i,t){if(void 0!==i[t]){var n=this;$.each(i[t].data,function(){var i=this,s=n.config.points.like;"comments"===t&&(i=this.from,s=n.config.points.comment),i.id!==e&&(void 0===n.graph[i.id]&&(n.graph[i.id]={id:i.id,points:0,name:i.name,interactions:{likes:[],comments:[]}}),n.graph[i.id].points+=s,n.graph[i.id].interactions[t].push(this))})}},getSortedGraph:function(){var i=[];return $.each(this.graph,function(){i.push(this)}),i.sort(function(i,e){return i.points-e.points}),i.reverse()}};return{build:function(i){t.buildGraph(i)}}}return i}();