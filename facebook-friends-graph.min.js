var FacebookFriends=function(){function i(i,t,e){var n={picture:{width:50,height:50}},o={config:{edgeLimit:100,edgeFields:"likes,comments",points:{comment:10,like:5,combined:3},options:$.extend(n,e)},graph:{},buildGraph:function(i){var t=this;this.fetchEdges("/me/posts?fields="+this.config.edgeFields+"&limit="+this.config.edgeLimit,function(e){t.fetchEdges("/me/photos?type=uploaded&fields="+t.config.edgeFields+"&limit="+t.config.edgeLimit,i)})},fetchEdges:function(t,e){var n=this;i.api(t,function(i){n.handleEdgeResponse(i),e(n.getSortedGraph())})},handleEdgeResponse:function(i){if(void 0!==i.data){var t=this;$.each(i.data,function(){t.filterEdgeItemUserInteractions(this,"likes"),t.filterEdgeItemUserInteractions(this,"comments")})}},filterEdgeItemUserInteractions:function(i,e){if(void 0!==i[e]){var n=this;$.each(i[e].data,function(){var i=this,o=n.config.points.like;"comments"===e&&(i=this.from,o=n.config.points.comment),i.id!==t&&(void 0===n.graph[i.id]&&(n.graph[i.id]={id:i.id,points:0,name:i.name,url_picture:n.buildUserUrlPicture(i.id)}),n.graph[i.id].points+=o)})}},buildUserUrlPicture:function(i){return"https://graph.facebook.com/"+i+"/picture?width="+this.config.options.picture.width+"&height="+this.config.options.picture.height},getSortedGraph:function(){var i=[];return $.each(this.graph,function(){i.push(this)}),i.sort(function(i,t){return i.points-t.points}),i.reverse()}};return{build:function(i){o.buildGraph(i)}}}return i}();